<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>AstalaVista</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body, html { height:100%; overflow:hidden; font-family:'Poppins',sans-serif; background:#0d001a; color:#e0e0ff; }
        #ageWarning {
            position:fixed; inset:0; background:rgba(0,0,0,0.98); z-index:9999;
            display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:20px;
        }
        #ageWarning h1 { font-size:28px; color:#d9ccff; margin-bottom:20px; }
        #ageBtn {
            background:#ab47bc; color:white; border:none; padding:16px 40px; border-radius:12px; font-size:18px; font-weight:600;
            cursor:pointer; margin:20px 0; width:80%; max-width:320px; transition:background 0.2s;
        }
        #ageBtn:hover { background:#7e57c2; }
        #noShow { margin-top:20px; color:#ccc; font-size:15px; }
        #noShow input { margin-right:10px; transform:scale(1.3); }
        #mainContent { display:none; flex-direction:column; height:100%; }
        .top-bar {
            background: #140033;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #4a148c;
        }
        .top-bar .icon { font-size: 24px; color: #d0c0ff; cursor: pointer; }
        .top-bar .title { font-size: 20px; font-weight: 600; color: #d9ccff; }
        .subtitle { padding: 12px 16px; font-size: 18px; font-weight: 500; color: #b3aaff; background: #1e004d; border-bottom: 1px solid #512da8; text-align: center; }
        .filter-btn { background: #ab47bc; color: white; padding: 12px; margin: 12px 16px; border-radius: 12px; font-weight: 600; font-size: 16px; cursor: pointer; text-align: center; box-shadow: 0 2px 8px rgba(171,71,188,0.3); }
        .filter-btn::after { content: " ‚ñº"; }
        .content { flex:1; overflow-y:auto; padding:16px; }
        .cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:14px; }
        .card { background:#1e004d; border-radius:14px; overflow:hidden; border:1px solid #512da8; box-shadow:0 4px 14px rgba(0,0,0,0.5); }
        .card img { width:100%; height:210px; object-fit:cover; }
        .info { padding:12px; }
        .name { font-weight:600; font-size:16px; color:#d9ccff; }
        .params { font-size:13px; color:#b3aaff; }
        .price { background:#ab47bc; color:white; margin:10px 12px 8px; padding:9px; border-radius:10px; text-align:center; font-weight:600; }
        .modal { display:none; position:fixed; inset:0; background:rgba(13,0,26,0.95); z-index:1000; justify-content:center; align-items:center; }
        .modal-box { background:#1e004d; border:2px solid #7e57c2; border-radius:16px; padding:20px; width:90%; max-width:420px; max-height:90%; overflow-y:auto; }
        .close { float:right; font-size:30px; color:#aaa; cursor:pointer; }
        .close:hover { color:#ab47bc; }
        .filter-group { margin:15px 0; }
        .filter-group label { display:block; margin-bottom:6px; color:#d9ccff; font-weight:500; }
        select, input[type="number"] { width:100%; padding:10px; background:#2a004d; border:1px solid #512da8; border-radius:8px; color:#fff; font-size:15px; }
        .apply-btn { background:#7e57c2; color:white; border:none; padding:14px; border-radius:10px; font-weight:600; width:100%; margin-top:15px; cursor:pointer; }
        .clear-btn { background:#512da8; color:white; border:none; padding:12px; border-radius:10px; font-weight:500; width:100%; margin-top:10px; cursor:pointer; }
        .error { color:#ff3366; font-size:13px;


margin-top:4px; display:none; }
    </style>
</head>
<body>

<!-- 18+ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
<div id="ageWarning">
    <h1>–í–Ω–∏–º–∞–Ω–∏–µ, –∫–æ–Ω—Ç–µ–Ω—Ç 18+!</h1>
    <button id="ageBtn">–î–∞, –º–Ω–µ –µ—Å—Ç—å 18 –ª–µ—Ç!</button>
    <label id="noShow">
        <input type="checkbox" id="noShowCheck"> –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
    </label>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div id="mainContent">
    <div class="top-bar">
        <div class="icon" id="searchIcon">üîç</div>
        <div class="title">AstalaVista</div>
        <div class="icon" id="menuIcon">‚â°</div>
    </div>

    <div class="subtitle">–î–µ–≤—É—à–∫–∏ –ú–æ—Å–∫–≤—ã</div>

    <div class="filter-btn" id="filterBtn">–ü–û–ö–ê–ó–ê–¢–¨ –§–ò–õ–¨–¢–† ‚ñº</div>

    <div class="content">
        <div class="cards" id="cards"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
    <div id="filterModal" class="modal">
        <div class="modal-box">
            <span class="close" id="closeModal">√ó</span>
            <h2>–§–∏–ª—å—Ç—Ä—ã</h2>

            <div class="filter-group">
                <label>–†–∞–π–æ–Ω</label>
                <select id="district">
                    <option>–í–´–ë–†–ê–¢–¨...</option>
                    <option>–¶–µ–Ω—Ç—Ä</option>
                    <option>–ú–∏—Ç–∏–Ω–æ</option>
                    <option>–°–∞–≤–µ–ª–æ–≤—Å–∫–∞—è</option>
                    <option>–Æ–≥</option>
                    <option>–ê—Ä–±–∞—Ç</option>
                    <option>–¢–≤–µ—Ä—Å–∫–∞—è</option>
                </select>
            </div>

            <div class="filter-group">
                <label>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                <select id="category">
                    <option>–í–´–ë–†–ê–¢–¨...</option>
                    <option>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª–∫–∏</option>
                    <option>–ú–∞—Å—Å–∞–∂</option>
                    <option>BDSM</option>
                    <option>–≠–ª–∏—Ç–Ω—ã–µ</option>
                </select>
            </div>

            <div class="filter-group">
                <label>–í–æ–∑—Ä–∞—Å—Ç</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="minAge" placeholder="–æ—Ç" min="18">
                    <input type="number" id="maxAge" placeholder="–¥–æ" min="18">
                </div>
                <div class="error" id="ageError">–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 18.</div>
            </div>

            <div class="filter-group">
                <label>–†–∞–∑–º–µ—Ä –≥—Ä—É–¥–∏</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="minBreast" placeholder="–æ—Ç">
                    <input type="number" id="maxBreast" placeholder="–¥–æ">
                </div>
            </div>

            <div class="filter-group">
                <label>–í–µ—Å</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="minWeight" placeholder="–æ—Ç">
                    <input type="number" id="maxWeight" placeholder="–¥–æ">
                </div>
            </div>

            <div class="filter-group">
                <label>–†–æ—Å—Ç</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="minHeight" placeholder="–æ—Ç">
                    <input type="number" id="maxHeight" placeholder="–¥–æ">
                </div>
            </div>

            <div class="filter-group">
                <label>–°—Ç–æ–∏–º–æ—Å—Ç—å</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="minPrice" placeholder="–æ—Ç">
                    <input type="number" id="maxPrice" placeholder="–¥–æ">
                </div>
            </div>

            <div class="filter-group">
                <label>–°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥</label>
                <select id="services">
                    <option>–í–´–ë–†–ê–¢–¨...</option>
                    <option>–ú–ë–†</option>
                    <option>–¶–µ–ª—É—é—Å—å</option>
                    <option>–í—ã–µ–∑–¥</option>
                    <option>–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã</option>
                    <option>VIP</option>
                </select>
            </div>

            <button id="applyFilter" c


lass="apply-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button id="clearFilter" class="clear-btn">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä</button>
        </div>
    </div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // 18+ –ø—Ä–æ–≤–µ—Ä–∫–∞
    const noShowKey = 'astala_no_show_18';
    const noShow = localStorage.getItem(noShowKey) === 'true';

    const ageWarning = document.getElementById('ageWarning');
    const mainContent = document.getElementById('mainContent');

    if (noShow) {
        ageWarning.style.display = 'none';
        mainContent.style.display = 'flex';
        renderCards();
    } else {
        ageWarning.style.display = 'flex';
        mainContent.style.display = 'none';
    }

    // –ö–Ω–æ–ø–∫–∞ "–î–∞, 18+"
    document.getElementById('ageBtn').addEventListener('click', function() {
        const check = document.getElementById('noShowCheck').checked;
        if (check) {
            localStorage.setItem(noShowKey, 'true');
        }
        ageWarning.style.display = 'none';
        mainContent.style.display = 'flex';
        renderCards();
        tg.MainButton.show();
    });

    // –ê–Ω–∫–µ—Ç—ã
    const girls = [
        { name:"–ö—Ä–∏—Å", age:30, height:164, weight:54, breast:1, location:"–ú–æ—Å–∫–≤–∞, –ú–∏—Ç–∏–Ω–æ", price1:12000, price2:16000, tags:["–ú–ë–†","–¶–µ–ª—É—é—Å—å","–í—ã–µ–∑–¥"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–ö—Ä–∏—Å", category:"ind" },
        { name:"–û–ª–∏–≤–∏—è", age:31, height:175, weight:59, breast:4, location:"–ú–æ—Å–∫–≤–∞, –°–∞–≤–µ–ª–æ–≤—Å–∫–∞—è", price1:18000, price2:36000, tags:["–ú–ë–†","–í—ã–µ–∑–¥"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–û–ª–∏–≤–∏—è", category:"elit" },
        { name:"–ê–Ω—è", age:25, height:170, weight:55, breast:3, location:"–ú–æ—Å–∫–≤–∞, –¶–µ–Ω—Ç—Ä", price1:15000, price2:30000, tags:["BDSM","–ú–∞—Å—Å–∞–∂"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–ê–Ω—è", category:"bdsm" },
        { name:"–ú–∞—Ä–∏—è", age:28, height:168, weight:52, breast:2, location:"–ú–æ—Å–∫–≤–∞, –Æ–≥", price1:10000, price2:20000, tags:["–ú–∞—Å—Å–∞–∂","–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–ú–∞—Ä–∏—è", category:"mass" },
        { name:"–°–æ—Ñ–∏—è", age:27, height:172, weight:56, breast:3, location:"–ú–æ—Å–∫–≤–∞, –ê—Ä–±–∞—Ç", price1:22000, price2:45000, tags:["–≠–ª–∏—Ç–Ω—ã–µ","VIP"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–°–æ—Ñ–∏—è", category:"elit" },
        { name:"–ö–∞—Ç—è", age:29, height:166, weight:53, breast:2, location:"–ú–æ—Å–∫–≤–∞, –¢–≤–µ—Ä—Å–∫–∞—è", price1:14000, price2:28000, tags:["–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª–∫–∏"], photo:"https://via.placeholder.com/300x400/4a148c/ffffff?text=–ö–∞—Ç—è", category:"ind" }
    ];

    let currentCategory = 'all';
    let filters = { minAge: null, maxAge: null, minPrice: null, maxPrice: null };

    function renderCards() {
        let data = girls.filter(g => currentCategory === 'all' || g.category === currentCategory);
        data = data.filter(g => {
            const ageMatch = (!filters.minAge || g.age >= filters.minAge) && (!filters.maxAge || g.age <= filters.maxAge);
            const priceMatch = (!filters.minPrice || g.price1 >= filters.minPrice) && (!filters.maxPrice || g.price1 <= filters.maxPrice);
            return ageMatch && priceMatch;
        });

        const container = document.getElementById('cards');
        container.innerHTML = '';
        if (data.length === 0) {
            container.innerHTML = '<p style="text-align:center; padding:40px; color:#aaa;">–ù–µ—Ç –∞–Ω–∫–µ—Ç –ø–æ —Ñ–∏–ª—å—Ç—Ä—É</p>';
            return;
        }
        data.forEach(girl => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <img src="\( {girl.photo}" alt=" \){girl.name}">
                <div class="info">
                    <div class="name">${girl.name}</div>
                    <div class="params">
                        –ì—Ä—É–¥—å: ${girl.breast}

                        –†–æ—Å—Ç: ${girl.height} —Å–º | –í–µ—Å: ${girl.weight} –∫–≥

                        –í–æ–∑—Ä–∞—Å—Ç: ${girl.age}
                    </div>


<div class="location">${girl.location}</div>
                    <div class="price">${girl.price1} ‚ÇΩ / ${girl.price2} ‚ÇΩ</div>
                    <div class="tags">
                        \( {girl.tags.map(tag => `<span class="tag"> \){tag}</span>`).join('')}
                    </div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞
    document.getElementById('filterBtn').addEventListener('click', function() {
        document.getElementById('filterModal').style.display = 'flex';
    });

    document.getElementById('closeModal').addEventListener('click', function() {
        document.getElementById('filterModal').style.display = 'none';
    });

    document.getElementById('applyFilter').addEventListener('click', function() {
        const minAgeVal = parseInt(document.getElementById('minAge').value) || null;
        const maxAgeVal = parseInt(document.getElementById('maxAge').value) || null;

        if (minAgeVal && minAgeVal < 18) {
            document.getElementById('ageError').style.display = 'block';
            return;
        }
        if (maxAgeVal && maxAgeVal < 18) {
            document.getElementById('ageError').style.display = 'block';
            return;
        }

        document.getElementById('ageError').style.display = 'none';

        filters.minAge = minAgeVal;
        filters.maxAge = maxAgeVal;
        filters.minPrice = parseInt(document.getElementById('minPrice').value) || null;
        filters.maxPrice = parseInt(document.getElementById('maxPrice').value) || null;

        document.getElementById('filterModal').style.display = 'none';
        renderCards();
    });

    document.getElementById('clearFilter').addEventListener('click', function() {
        filters = { minAge: null, maxAge: null, minPrice: null, maxPrice: null };
        document.getElementById('minAge').value = '';
        document.getElementById('maxAge').value = '';
        document.getElementById('minPrice').value = '';
        document.getElementById('maxPrice').value = '';
        document.getElementById('ageError').style.display = 'none';
        renderCards();
    });

    // –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –ø–æ—Å–ª–µ 18+
    if (noShow) renderCards();

    tg.MainButton.setText("–ü–æ–¥–¥–µ—Ä–∂–∫–∞");
    tg.MainButton.setParams({ color: "#ab47bc", text_color: "#ffffff" });
    tg.MainButton.show();
    tg.MainButton.onClick(function() { tg.showAlert("–ü–∏—à–∏ @—Ç–≤–æ–π_–Ω–∏–∫"); });
</script>
</body>
</html>